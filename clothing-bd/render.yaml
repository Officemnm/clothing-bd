# Clothing BD - Production Report System
# Render Blueprint Configuration

services:
  # Main Next.js Web Application
  - type: web
    name: clothing-bd
    runtime: node
    region: singapore  # Closest to Bangladesh
    plan: free
    branch: main
    repo: https://github.com/Officemnm/clothing-bd
    rootDir: clothing-bd
    buildCommand: npm install && npm run build
    startCommand: npm start
    healthCheckPath: /
    envVars:
      - key: NODE_ENV
        value: production
      - key: NODE_VERSION
        value: 22
      - key: MONGODB_URI
        value: mongodb+srv://Mehedi:Mehedi123@office.jxdnuaj.mongodb.net/office_db
      - key: CRON_SECRET
        value: hourly-snapshot-secret

# Note: Render Free Plan does not support Cron Jobs
# Use external cron service like cron-job.org with these URLs:
#
# Slot 1 (12:45 PM BD = 6:45 AM UTC):
#   Schedule: 45 6 * * *
#   URL: https://clothing-bd.onrender.com/api/cron/snapshot?secret=hourly-snapshot-secret&slot=slot1
#
# Slot 2 (5:00 PM BD = 11:00 AM UTC):
#   Schedule: 0 11 * * *
#   URL: https://clothing-bd.onrender.com/api/cron/snapshot?secret=hourly-snapshot-secret&slot=slot2
#
# Slot 3 (9:00 PM BD = 3:00 PM UTC):
#   Schedule: 0 15 * * *
#   URL: https://clothing-bd.onrender.com/api/cron/snapshot?secret=hourly-snapshot-secret&slot=slot3
